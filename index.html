<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="KAhCrgJH1p8Xo_680zDS1cQbJ_eC04EtztqC17hxllI" />










  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="学习，思考，记录">
<meta property="og:type" content="website">
<meta property="og:title" content="彳亍而思">
<meta property="og:url" content="http://www.learn-to-reborn.com/index.html">
<meta property="og:site_name" content="彳亍而思">
<meta property="og:description" content="学习，思考，记录">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="彳亍而思">
<meta name="twitter:description" content="学习，思考，记录">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"remove"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.learn-to-reborn.com/"/>





  <title> 彳亍而思 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">彳亍而思</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            所有
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/03/15/summary/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/15/summary/" itemprop="url">
                  SQL查询技巧总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-15T22:18:52+08:00">
                2017-03-15
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/15/summary/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/15/summary/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="查询数据的一般套路"><a href="#查询数据的一般套路" class="headerlink" title="查询数据的一般套路"></a>查询数据的一般套路</h2><p><code>SELECT 字段 FROM 表 WHERE 条件</code></p>
<p>示例：</p>
<p>从表格t1中找出c1值为xxx的记录，显示c1、c2字段：</p>
<p><code>SELECT c1,c2 FROM t1 WHERE c1 = &#39;xxx&#39;;</code></p>
<p>c1,c2规定返回内容</p>
<p>t1是查找范围，即在表格t1内查找</p>
<p>c1=’xxx’是查找条件，符合条件的记录才会被找出</p>
<p>翻译以下，查询语句的一般套路就是：</p>
<p><strong>SELECT 返回内容 FROM 查找范围 WHRER 查找条件</strong></p>
<p>包含3个要素：返回内容，查找范围，查找条件</p>
<h3 id="返回内容"><a href="#返回内容" class="headerlink" title="返回内容"></a>返回内容</h3><p>返回内容可以是整条记录（即返回所有符合条件的记录——包括记录内的所有字段）：</p>
<p><code>SELCET * FROM table_name</code></p>
<p>返回内容可以是记录内某些字段：</p>
<p><code>SELECT c1,c2 FROM table_name</code></p>
<p>返回内容可以是与当前表格某些字段一一对应的、其他表格内的字段：</p>
<p><code>SELECT (SELECT t2.c3 FROM t2 WHERE t2.c2 = t1.c1) FROM t1 WHERE c1=&#39;xxx&#39;</code></p>
<p>返回内容可以是记录内某些字段的函数值：</p>
<p><code>SELECT SUBSTR(c1,1,4) FROM t1 WHERE ...</code>选择t1中符合条件的记录，返回这些记录c1字段从第一个字符开始的4个字符。</p>
<p>返回内容可以是所有符合条件的记录、的统计值：</p>
<p><code>SELECT DINSTINCT c1 FROM t1 WHERE...</code>返回所有符合条件的记录、的非重复c1值</p>
<p><code>SELECT COUNT(*) FROM t1 WHERE...</code>返回所有符合条件的记录数</p>
<h3 id="查找范围"><a href="#查找范围" class="headerlink" title="查找范围"></a>查找范围</h3><p>可以是一张表格：</p>
<p><code>SELECT * FROM table_name</code></p>
<p>可以是某个SELECT结果：<code>SELECT c1 FROM (SELECT * FROM t1 WHERE...) WHERE...</code></p>
<p>可以是多张表格：<code>SELECT t1.c1,t2.c2 FROM t1 LEFT JOIN t2 ON t2.c3 = t1.c3 WHERE...</code></p>
<h3 id="查找条件"><a href="#查找条件" class="headerlink" title="查找条件"></a>查找条件</h3><p>可以是对字段进行判断，也可以对字段的函数值进行判断</p>
<p>WHERE中的条件，可以为单个，也可以为多个（使用AND或OR连接）</p>
<p>条件的表述：</p>
<p>=运算符表示相等，另外还有&lt;小于， &gt;大于， &lt;=小于等于， &gt;=大于等于， &lt;&gt; 不等于(也可以写成!=)，BETWEEN在某个范围， LIKE符合某种pattern，IN包含于……</p>
<h2 id="返回内容-1"><a href="#返回内容-1" class="headerlink" title="返回内容"></a>返回内容</h2><h3 id="COUNT"><a href="#COUNT" class="headerlink" title="COUNT"></a>COUNT</h3><p>使用<code>COUNT()</code>来统计数量</p>
<p><code>COUNT(*)</code>是返回符合条件的记录数</p>
<p><code>COUNT(column_name)</code>返回符合条件的指定列的数量（符合条件的记录中，指定列若为null，是不会被统计到的）</p>
<p><code>COUNT(DISTINCT column)</code>返回符合条件的、非重复指定列的数量</p>
<p><code>SELECT COUNT(*) FROM t1 WHERE c3 IS NOT NULL</code>等价于<code>SELECT COUNT(c3) FROM t1</code></p>
<h3 id="GROYP-BY"><a href="#GROYP-BY" class="headerlink" title="GROYP BY"></a>GROYP BY</h3><p>只有当SELECT出的列中包含合计函数（如COUNT、SUM）时，才可以使用GROUP BY</p>
<p>GROUP BY结合合计函数，是根据一个列或多个列对结果集进行分组，然后进行合计，SELECT语句返回的结果就是，按照一个列或多个列统计的数值</p>
<p>如<code>SELECT customer, SUM(orderprice) FROM Orders GROUP BY customer</code>就是按照customer统计orderprice，结果为两列，一列是不同的customer，另一列是每位customer的订单总额</p>
<p>可以GROUP BY一个以上的列（或其函数值），若<code>GROUP BY c1,c2,...</code>，则只有当c1与c2两列均相同时，才视为一个新的分组</p>
<h3 id="SUBSTR"><a href="#SUBSTR" class="headerlink" title="SUBSTR"></a>SUBSTR</h3><p>SUBSTR返回字符串的指定子字符：</p>
<p><code>SUBSTR(column1,2,4)</code>返回column1字段的、从第2位字符开始的4个字符。若省略第三个参数，则为选出从第？个位置开始的字符。</p>
<h3 id="CASE-WHEN"><a href="#CASE-WHEN" class="headerlink" title="CASE WHEN"></a>CASE WHEN</h3><p>与其他编程语言中的CASE WHEN类似，SQL中的CASE WHEN可对列（或其函数值）进行判断，若符合某些条件则返回THEN的值，可以对多种状态进行判断</p>
<p>但在SQL中，除了简单的CASE函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">CASE column</div><div class="line"></div><div class="line">WHEN 值1 THEN 返回值1(常数或字段)</div><div class="line"></div><div class="line">WHEN 值2 THEN 返回值2(常数或字段)</div><div class="line"></div><div class="line">ELSE 返回值3(常数或字段)</div><div class="line"></div><div class="line">END</div></pre></td></tr></table></figure>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">SELECT DISTINCT c1,</div><div class="line"></div><div class="line">SUM(CASE c2 WHEN &apos;x1&apos; THEN 1 ELSE 0 END),</div><div class="line"></div><div class="line">SUM(CASE c2 WHEN &apos;x2&apos; THEN 1 ELSE 0 END),</div><div class="line"></div><div class="line">FROM t1</div><div class="line"></div><div class="line">GROUP BY c1</div></pre></td></tr></table></figure>
<p>还有CASE搜索函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">CASE</div><div class="line"></div><div class="line">WHEN column=值1(或其他条件语句) THEN 返回值1(常数或字段)</div><div class="line"></div><div class="line">WHEN column=值2(或其他条件语句) THEN 返回值2(常数或字段)</div><div class="line"></div><div class="line">ELSE 返回值3(常数或字段)</div><div class="line"></div><div class="line">END</div></pre></td></tr></table></figure>
<p>示例：</p>
<p><code>SELECT CASE WHEN c1=&#39;xx&#39; THEN c2 ELSE c3 END FROM t1 WHERE ...</code></p>
<h2 id="查找范围-1"><a href="#查找范围-1" class="headerlink" title="查找范围"></a>查找范围</h2><h3 id="多张表"><a href="#多张表" class="headerlink" title="多张表"></a>多张表</h3><p>可以将多张表合成后的表视为一个新表，然后在这张新表上SELECT FROM WHERE，SELECT出的字段可以是原来两张表中的任何字段</p>
<h4 id="方法1-引用多张表"><a href="#方法1-引用多张表" class="headerlink" title="方法1:引用多张表"></a>方法1:引用多张表</h4><p>通过FROM多张表来从多张表获取数据</p>
<p>实际上是通过两张表中的某一相同／关联字段将两张表拼接起来，这种拼接实际上是INNER JOIN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT t1.c2,t2.c3</div><div class="line"></div><div class="line">FROM t1,t2</div><div class="line"></div><div class="line">WHERE t1.c1 = t2.c1--两张表能够关联起来的字段</div></pre></td></tr></table></figure>
<p>实际上等价于：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT t1.c2,t2.c3</div><div class="line"></div><div class="line">FROM t1 INNER JOIN t2 ON t1.c1 = t2.c2</div><div class="line"></div><div class="line">t1 INNER JOIN t2 ON t1.c1 = t2.c2是以t1为主表，通过t1的c1字段寻找到t2中的对应记录，然后拼接到t1上。只返回能够找到对应关系的记录。</div></pre></td></tr></table></figure>
<h4 id="方法2-JOIN方式"><a href="#方法2-JOIN方式" class="headerlink" title="方法2:JOIN方式"></a>方法2:JOIN方式</h4><p>除了INNER JOIN外，还有LEFT JOIN 和RIGHT JOIN等</p>
<p><code>t1 LEFT JOIN t2 ON t1.c1 = t2.c2</code>是以t1为主表，通过t1的c1字段寻找到t2中的对应记录，然后拼接到t1上。即使在t2中没有找到对应记录，也返回t1的记录。也就是说，位于语句左侧的t1，不管有没有在t2中找到关联，都是返回全部记录的。</p>
<h2 id="查找条件-1"><a href="#查找条件-1" class="headerlink" title="查找条件"></a>查找条件</h2><h3 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h3><p>LIKE类似于正则查找，是判断某个字段（或其函数值）是否符合某种模式</p>
<p><code>SELECT * FROM table_name WHERE column_name LIKE pattern</code></p>
<p>比如</p>
<p><code>WHERE c1 LIKE ‘N%’——判断c1的值是否以N开头</code></p>
<p><code>WHERE c1 LIKE ‘%N%’——判断c1的值是否包含N</code></p>
<p>%是通配符，可以替代一个或多个字符</p>
<p>其余通配符有：</p>
<p>_ 仅替代一个字符；</p>
<p>[xxxxx] 类似正则，表示字符列中任何单一字符；</p>
<p>[^xxxx] 不再字符列表中的任意单一字符。</p>
<h3 id="BETWEEN"><a href="#BETWEEN" class="headerlink" title="BETWEEN"></a>BETWEEN</h3><p><code>BETWEEN... AND ...</code>用来判定某个字段的值（或函数值）是否在某个区间范围：</p>
<p><code>SELECT * FROM table_name WHERE column_name BETWEEN value1 AND value2</code></p>
<p>要注意的是，不同数据库对区间上下限的处理是不一样的，有些会不包括value1和value2，有些包括value1及value2，有些包括value1却不包括value2</p>
<p><code>BETWEEN... AND ...</code>还可以与NOT结合，即判定某个字段的值（或函数值）是否不在某个区间范围：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT * FROM table_name</div><div class="line"></div><div class="line">WHERE column_name</div><div class="line"></div><div class="line">NOT BETWEEN value1 AND value2</div></pre></td></tr></table></figure>
<h3 id="IN"><a href="#IN" class="headerlink" title="IN"></a>IN</h3><p>使用IN来判断字段的值是否在某个列表中：</p>
<p><code>SELECT * FROM table_name WHERE column_name IN (value1,value2,...)</code></p>
<p>列表除了直接罗列值以外，亦可以是某个SELECT语句：</p>
<p><code>SELECT * FROM t1 WHERE c1 IN (SELECT c2 FROM t2)</code></p>
<h3 id="NULL"><a href="#NULL" class="headerlink" title="NULL"></a>NULL</h3><p>若在某条记录中，有column未写入值，则该条记录的该列即为NULL</p>
<p>NULL即不等于空格，也不等于0</p>
<p>也无法通过运算符来测试NULL，比如=，&gt;……，不能使用c = NULL这种判断</p>
<p>只能通过IS NULL或IS NOT NULL来判断：<code>WHERE c1 IS NULL</code></p>
<h3 id="EXISTS"><a href="#EXISTS" class="headerlink" title="EXISTS"></a>EXISTS</h3><p>一般用法：</p>
<p><code>SELECT column_name FROM table_name WHERE EXISTS subquery</code></p>
<p>subquery是一个受限的SELECT语句，不允许有计算和INTO关键字</p>
<p>EXISTS subquery返回一个boolean，当subquery包含行时，为true，否则为false，即EXISTS是在检测subquery中行的存在</p>
<p>NOT EXISTS与EXISTS相反</p>
<p>EXISTS subquery因为返回的是boolean，且返回值是根据subquery是否包含行，实际上这样WHERE是在对一行进行判断，而不管subquery中SELECT的是*还是某些column（subquery SELECT出的column甚至可以与整个语句的SELECT字段不同）</p>
<h3 id="HAVING"><a href="#HAVING" class="headerlink" title="HAVING"></a>HAVING</h3><p>以上所属的查询条件，均连接到WHERE后面，但是WHERE中的条件，不能包含合计函数</p>
<p>要将某些统计特性作为条件时，只能使用HAVING来判断</p>
<p>即HAVING 后紧跟合计函数（COUNT、SUM）的条件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT (SELECT t2.c2 FROM t2 WHERE t2.c1 = t1.c1),COUNT(c2)  FROM t1</div><div class="line"></div><div class="line">GROUP BY c1</div><div class="line"></div><div class="line">HAVING COUNT(c2)&gt;1</div></pre></td></tr></table></figure>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="ORDER-BY"><a href="#ORDER-BY" class="headerlink" title="ORDER BY"></a>ORDER BY</h3><p>将结果集按照指定的列进行排序，默认按照升序（ASC）排列</p>
<p>要按照降序排序，可以使用DESC关键字：</p>
<p><code>SELECT * FROM table_name WHERE... ORDER BY column_name DESC</code></p>
<p>也可按照多列排序 :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">SELECT * FROM table_name WHERE... ORDER BY c1 DESC, c2 ASC,...</div><div class="line"></div><div class="line">--先按照c1排序，若有记录包含相同的c1，则这几条记录再按照c2排序</div></pre></td></tr></table></figure>
<h3 id="UNION"><a href="#UNION" class="headerlink" title="UNION"></a>UNION</h3><p>UNION用于合并两个及以上SELECT语句的结果</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">SELECT column(s) FROM table1 WHERE ...</div><div class="line"></div><div class="line">UNION</div><div class="line"></div><div class="line">SELECT column(s) FROM table2 WHERE ...</div><div class="line"></div><div class="line">UNION</div><div class="line">SELECT column(s) FROM table3 WHERE ...</div></pre></td></tr></table></figure>
<p>各SELECT语句中，SELECT出的column数量应相等，且column也必须有相似的数据类型，当然，各SELECT语句可以返回不同的column（不同表的不同字段、相同表的不同字段……）。一般，为了便于查看，会统一各SELECT语句结果的字段显示名称：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT t1.c1 name1, t1.c2  name2 FROM t1</div><div class="line"></div><div class="line">UNOIN</div><div class="line"></div><div class="line">SELECT t2.c3 name1, t2.c4 name2 FROM t2</div></pre></td></tr></table></figure>
<p>其中，返回的两列，一列标题为name1，另一列标题为name2</p>
<p>不过要注意，UNION会将各SELECT语句结果中的重复行自动删除，即只选取非重复的值</p>
<p>要选出所有行而非仅非重复行，需要使用 UNION ALL来替代UNION</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/03/05/some-tips/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/05/some-tips/" itemprop="url">
                  最近积累的一些小问题总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-05T22:28:07+08:00">
                2017-03-05
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/05/some-tips/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/05/some-tips/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="字符转化为url编码"><a href="#字符转化为url编码" class="headerlink" title="字符转化为url编码"></a>字符转化为url编码</h3><p>ruby的‘open-uri’模块中，有方法可以将字符串转化为url编码的形式，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">require &apos;open-uri&apos;</div><div class="line">puts URI::encode(&apos;待转换字符串&apos;)</div></pre></td></tr></table></figure></p>
<h3 id="串接文件路径"><a href="#串接文件路径" class="headerlink" title="串接文件路径"></a>串接文件路径</h3><p><code>File.join(&#39;path1&#39;, &#39;path2&#39; , &#39;path3&#39;)</code>（可串接多个） ，将得到路径<code>path1/path2/path3</code>。</p>
<h3 id="ruby：从数组中随机选择一个元素"><a href="#ruby：从数组中随机选择一个元素" class="headerlink" title="ruby：从数组中随机选择一个元素"></a>ruby：从数组中随机选择一个元素</h3><p>使用rand()方法来从数组中挑选：<code>random_item = array[rand(array.length)]</code>。</p>
<h3 id="rails中如何显示用户输入的html内容"><a href="#rails中如何显示用户输入的html内容" class="headerlink" title="rails中如何显示用户输入的html内容"></a>rails中如何显示用户输入的html内容</h3><p>例如，product这个model的description字段是可以用户编辑的。如果要在显示到页面上时，保留用户在description中写入的html标签和属性，可以写成：<br><code>&lt;%= sanitize(@product.description) %&gt;</code>。<br>ROR中预设了允许用户写入的html标签和属性，如果需要新增，可以在config/application.rb中新增，可参考<a href="https://ihower.tw/rails/actionview-helpers.html#sec4" target="_blank" rel="external">ihower的教程</a> 。</p>
<h3 id="在seed中写入使用carrierwave上传图片的image字段"><a href="#在seed中写入使用carrierwave上传图片的image字段" class="headerlink" title="在seed中写入使用carrierwave上传图片的image字段"></a>在seed中写入使用carrierwave上传图片的image字段</h3><p>方法1: 使用本地图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Product.create!(title: &apos;xxx&apos;, image: File.open(File.join(Rails.root, &apos;test.jpg&apos;)))</div></pre></td></tr></table></figure></p>
<p>其中Rails.root是项目的根目录，就是<code>rail new</code>后的那个文件夹。如果图片没有放在同app同层级的位置，还需要加上中间的文件路径。<br>当然，本地测试时，使用本地的其他路径也可以，比如<code>/User/xxxx/test.jpg</code>。但是注意在heroku中，这样写就无法读取到本地硬盘的文件。而把图片放到项目文件夹下，使用Rails.root来引用，heroku中就可以正常上传图片到image。</p>
<p>方法2:使用网络图片<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Product.create!(</div><div class="line">&#123;</div><div class="line">  :title =&gt; &quot;Title&quot;,</div><div class="line">  :image =&gt; open(&quot;http://example.com/test.png&quot;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="ruby判断字符串包含某些字符"><a href="#ruby判断字符串包含某些字符" class="headerlink" title="ruby判断字符串包含某些字符"></a>ruby判断字符串包含某些字符</h3><p>在ruby中，使用<code>&quot;待判断的字符串&quot;.include?&quot;被包含的字符&quot;</code>来判断字符串中是否包含某些字符，返回boolean。</p>
<h3 id="rails中获取当前网页路径"><a href="#rails中获取当前网页路径" class="headerlink" title="rails中获取当前网页路径"></a>rails中获取当前网页路径</h3><ol>
<li><p>request.fullpath<br>如果当前的请求的页面是<code>get &quot;/articles?page=2&quot;</code>，则request.fullpath返回string格式的路径”/articles?page=2”。</p>
</li>
<li><p>request.original_fullpath<br>如果当前的请求的页面是<code>get &quot;/foo?bar&quot;</code>，则request.original_fullpath返回string格式的路径”/foo?bar”。</p>
</li>
</ol>
<p>暂时不知道fullpath和original_fullpath的区别。而且从实验来看，这两个似乎也没有差别。</p>
<h3 id="在heroku上自动生成测试数据"><a href="#在heroku上自动生成测试数据" class="headerlink" title="在heroku上自动生成测试数据"></a>在heroku上自动生成测试数据</h3><p>与本地类似，也是使用seed来自动生成测试数据：<code>heroku run rake db:seed</code><br>但是，如果seed要从其他文件读取数据的话，貌似heroku中，seed只能读取到上传到heroku中的这个app里的文件。</p>
<h3 id="修改heroku的app名字"><a href="#修改heroku的app名字" class="headerlink" title="修改heroku的app名字"></a>修改heroku的app名字</h3><p>方法1: 在heroku网站上修改<br>在网站的setting中修改名字。然后，需要进入终端，在项目下面，更新remote的路径。<br>step1-输入<code>git remote rm heroku</code>删除原来的heroku路径<br>step2-输入<code>git remote add heroku https://git.heroku.com/xxx/git</code>，xxx是修改后的新名字</p>
<p>方法2: 直接在终端内修改<br>进入终端，在项目下面，通过heroku指令修改app的名字。<br>step1-进入项目后，可以先<code>git remote -v</code>确认下当前的仓库地址<br>step2-执行<code>heroku apps:rename xxx</code>，xxx是修改后的新名字</p>
<h3 id="修改本地git的远程仓库地址"><a href="#修改本地git的远程仓库地址" class="headerlink" title="修改本地git的远程仓库地址"></a>修改本地git的远程仓库地址</h3><p>其实，heroku和git，操作都是一样的。<br>在终端内进入到项目文件夹下，然后：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git remote rm origin</div><div class="line">git remote add origin xxx</div></pre></td></tr></table></figure></p>
<p>xxx是github地址。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/03/04/don-t-show-image/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/04/don-t-show-image/" itemprop="url">
                  localhost:3000无法显示图片
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-04T14:04:27+08:00">
                2017-03-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/04/don-t-show-image/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/04/don-t-show-image/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>ROR项目，carrierwave上传图片后，无法在localhost显示图片。</p>
<p>检查了upload文件夹里确实有对应各version的图片，其他网页也有图片正常显示。就只有单某个image字段的图片看不到，非常诡异。</p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><p>一开始以为是carrierwave哪里设置得不对，但是其他图片能正常显示，而有问题的图片处检查了若干遍也没有发现错误。</p>
<p>然后就开始排查是否css的问题。</p>
<p>用chorme检查，发现有图片加载，但是莫名其妙被<code>dispaly: none;</code>，并且无法修改成其他值。</p>
<p>google了一圈，发现一个<a href="http://stackoverflow.com/questions/16951481/rails-3-why-does-my-image-tag-automatically-add-inline-style-attributes-to-the" target="_blank" rel="external">答案</a>。无法显示图片，是因为图片被AdBlock等广告拦截工具挡掉了。</p>
<p>我的chorme浏览器确实开了AdBlock，关闭AdBlock后，竟然，图片能够显示了！</p>
<p>这真是一个非常愚蠢的错误。</p>
<p>按照<a href="http://stackoverflow.com/questions/13980272/images-not-appearing-on-site-accessible-directly-through-url" target="_blank" rel="external">这里</a>的解释，是因为图片的class或id被命名为ad-something，就会被广告拦截工具拦截掉。</p>
<p>确实是这样。修改图片的class名称后（当时只有class名称包含了ad），重新打开AdBlock，图片也能正常显示。</p>
<p>好吧，关于命名规范，又学到一点。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/03/04/import-csv/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/04/import-csv/" itemprop="url">
                  ruby中导入csv报错"unquoted fields do not allow \r or \n"
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-04T10:04:51+08:00">
                2017-03-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/03/04/import-csv/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/04/import-csv/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>在windows笔记本上，用python爬了数据，然后存储为csv。</p>
<p>csv复制到mac上，导入数据的代码如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">require &apos;csv&apos;</div><div class="line">csv = CSV.parse(File.open(&apos;test.csv&apos;))</div></pre></td></tr></table></figure></p>
<p>然后报错：<code>unquoted fields do not allow \r or \n</code>。</p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><p>google了一下，在stackoverflow上找到的<a href="http://stackoverflow.com/questions/9200175/rails-fastercsv-unquoted-fields-do-not-allow-r-or-n/27536887?noredirect=1#comment11589600_9200175" target="_blank" rel="external">解决方法</a>是：新建一个csv文件，然后把之前csv的内容拷贝过去。之后打开新csv就可以了。</p>
<p>解释是，因为是在windows存储的csv，一个是windows自身会把文件编码成gbk，另外因为安装了excel，如果有先用excel打开这个csv的话，Excel会保存很多不必要的格式。<br>因此，新建一个csv，拷贝内容过去，就清空了所有格式。然后再打开就不会报错了。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/02/09/post/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/09/post/" itemprop="url">
                  Rails routes 中member和collection的区别
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-09T22:48:48+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/02/09/post/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/09/post/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h3><ul>
<li>都是构建routes路由的方法</li>
<li>都是写在<code>resources xxx do ... end</code>代码块内</li>
<li>使用方法类似</li>
</ul>
<p>声明member路由：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resources :photos do</div><div class="line">  member do</div><div class="line">    post :preview</div><div class="line">  end</div><div class="line">end</div></pre></td></tr></table></figure></p>
<p>声明collection路由：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">resources :photos do</div><div class="line">  collection do</div><div class="line">    post :search</div><div class="line">  end</div><div class="line">end</div></pre></td></tr></table></figure></p>
<h3 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h3><p>member路由是作用在作为resources的objects、的每一个object上（act on a member，因此需要具体的object id）。<br>它要求相应object的ID传入到params[:id]。<br>按照上面的例子，其生成的url是<code>/photos/:id/preview</code>，生成的帮助方法是<code>preview_photo_path(photo)</code>。</p>
<p>collection路由是作用在作为resources的objects、这个objects整体上（act on collection of resources）。<br>因此，它不要求传入ID。<br>按照上面的例子，其生成的url是<code>/photos/search</code>，生成的帮助方法是<code>search_photos_path</code>。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/01/31/post/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/31/post/" itemprop="url">
                  错误记录-i18n:MissingTranslationData
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-31T22:35:33+08:00">
                2017-01-31
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/31/post/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/31/post/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>前两天修改RoR项目，将默认的语言包设置为中文，并添加了devise的对应语言包。</p>
<p>想到之前项目中使用的日期，都是直接使用<code>&lt;%= xx.created_at %&gt;</code>，从而都是英语的、而且是UTC的显示方式，就想修改一下。</p>
<h3 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h3><p>采用的方式是，使用<code>&lt;%= time_tag(xx.created_at) %&gt;</code>替代之前的写法。</p>
<p>然后在本地预览时就报错了：<br><img src="https://ww2.sinaimg.cn/large/006tNc79gy1fca7i0q5a0j31kw0l6jx5.jpg" alt="报错"></p>
<h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><p>根据提示信息，猜测是因为i18n的翻译文档缺失。google了相关解决方法，然后采用的是一个比较简单的方法解决的：</p>
<p>直接在Gemfile中加入<code>gem &quot;rails-i18n&quot;</code>，然后bundle install。（PS：因为在之前修改devise语言包的时候，已经在config/applicaiton.rb中有设置<code>config.i18n.default_locale = &quot;zh-CN&quot;</code>）</p>
<p>通过这个gem的安装，就会直接使用<a href="https://github.com/svenfuchs/rails-i18n/tree/master/rails/locale" target="_blank" rel="external">https://github.com/svenfuchs/rails-i18n</a>中的中文翻译文档。</p>
<p>其实也可以尝试自定义这个翻译文档，只要<code>touch config/locales/zh-CN.yml</code>，然后参照项目原有的config/locales/en.yml进行翻译即可，注意将开头的en替换为zh-CN。</p>
<blockquote>
<p>注意 YAML 格式的文档中，赋值的冒号后必须有空格。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/01/28/customize-devise/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/28/customize-devise/" itemprop="url">
                  如何汉化/自定义devise的提示信息
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-28T21:37:42+08:00">
                2017-01-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/28/customize-devise/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/28/customize-devise/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="增加中文语言包来汉化"><a href="#增加中文语言包来汉化" class="headerlink" title="增加中文语言包来汉化"></a>增加中文语言包来汉化</h3><p>devise的默认语言包是英语，文件位置是项目的config/locales文件夹下。找到<code>devise.en.yml</code>，打开，可以看到：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">en:</div><div class="line">  devise:</div><div class="line">    confirmations:</div><div class="line">      confirmed: &quot;Your email address has been successfully confirmed.&quot;</div><div class="line">      send_instructions: &quot;You will receive an email with instructions for how to confirm your email address in a few minutes.&quot;</div><div class="line">      send_paranoid_instructions: &quot;If your email address exists in our database, you will receive an email with instructions for how to confirm your email address in a few minutes.&quot;</div><div class="line">    failure:</div><div class="line">    ......</div></pre></td></tr></table></figure></p>
<p>这个文件定义了每种用户会话状态下，对应的提示语句，如果使用了bootstrap／flash的话，“”中的语句就是显示到提示信息中的。</p>
<p>如果想修改为其他英文信息，可以直接在这个文件上修改保存。然后<code>rails s</code>重启服务器后，就可以看到提示信息已对应修改。</p>
<p>如果想要做汉化，或者其他语言的话，建议新增语言包文件。</p>
<p>语言包的新增，同样是要在config/locales文件夹下，比如新增汉语提示信息的话，可以通过<code>touch config/locales/devise.zh-CN.yml</code>，来新增一个devise.zh-CN.yml文件。</p>
<p>然后，在devise.zh-CN.yml文件中，修改每个用户会话状态的提示语句，比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div></pre></td><td class="code"><pre><div class="line">zh-CN:</div><div class="line">  errors:</div><div class="line">    messages:</div><div class="line">      expired: &quot;您已过期，请重新申请&quot;</div><div class="line">      not_found: &quot;没有找到&quot;</div><div class="line">      already_confirmed: &quot;已经激活，请重新登录。&quot;</div><div class="line">      not_locked: &quot;未锁定&quot;</div><div class="line">      not_saved:</div><div class="line">        one: &quot;因为 1 个错误导致此 %&#123;resource&#125;保存失败:&quot;</div><div class="line">        other: &quot;因为 %&#123;count&#125;个错误导致此 %&#123;resource&#125;保存失败:&quot;</div><div class="line"></div><div class="line">  devise:</div><div class="line">    failure:</div><div class="line">      already_authenticated: &apos;您已经登录。&apos;</div><div class="line">      unauthenticated: &apos;继续操作前请注册或者登录。&apos;</div><div class="line">      unconfirmed: &apos;继续操作前请先激活您的帐号。&apos;</div><div class="line">      locked: &apos;您的帐号已被锁定。&apos;</div><div class="line">      invalid: &apos;邮箱或密码错误&apos;</div><div class="line">      invalid_token: &apos;认证码无效。&apos;</div><div class="line">      timeout: &apos;您已登录超时，请重新登录。&apos;</div><div class="line">      inactive: &apos;您还没有激活帐户。&apos;</div><div class="line">    sessions:</div><div class="line">      signed_in: &apos;&apos;</div><div class="line">      signed_out: &apos;&apos;</div><div class="line">    passwords:</div><div class="line">      send_instructions: &apos;稍后你将收到帐号激活的电子邮件&apos;</div><div class="line">      updated: &apos;您的密码已修改成功，您现在已登录。&apos;</div><div class="line">      updated_not_active: &apos;您的密码已修改成功。&apos;</div><div class="line">      send_paranoid_instructions: &apos;如果您的邮箱存在于我们的数据库中，您将收到一封找回密码的邮件。&apos;</div><div class="line">    confirmations:</div><div class="line">      send_instructions: &apos;稍后你将收到帐号激活的电子邮件&apos;</div><div class="line">      confirmed: &apos;您的帐号已经激活，您现在已登录。&apos;</div><div class="line">      send_paranoid_instructions: &apos;如果您的邮箱存在于我们的数据库中，您将收到一封激活账号的邮件。&apos;</div><div class="line">    registrations:</div><div class="line">      signed_up: &apos;欢迎您！您已注册成功。&apos;</div><div class="line">      updated: &apos;帐号资料更新成功。&apos;</div><div class="line">      update_needs_confirmation: &apos;您更改了邮箱地址，我们需要验证您的新邮箱地址，请查看您的邮箱，点击激活链接来验证您的新邮箱地址。&apos;</div><div class="line">      destroyed: &apos;再见！您的帐户已成功注销。我们希望很快可以再见到您。&apos;</div><div class="line">      signed_up_but_unconfirmed: &apos;带有激活链接的信息已经发送到你的邮箱。请打开此链接来激活你的帐号&apos;</div><div class="line">      signed_up_but_inactive: &apos;虽然您已经注册成功，但因为你的帐号还未激活，所以你暂时无法登录&apos;</div><div class="line">      signed_up_but_locked: &apos;虽然您已经注册成功，但因为你的帐号已被锁定，所以你暂时无法登录&apos;</div><div class="line">    unlocks:</div><div class="line">      send_instructions: &apos;稍后你将收到帐号激活的电子邮件&apos;</div><div class="line">      unlocked: &apos;您的帐号已成功解锁，您现在已登录。&apos;</div><div class="line">      send_paranoid_instructions: &apos;如果您的邮箱存在于我们的数据库中，您将收到一封解锁账号的邮件。&apos;</div><div class="line">    omniauth_callbacks:</div><div class="line">      success: &apos;成功地从 %&#123;kind&#125;获得授权。&apos;</div><div class="line">      failure: &apos;因为 %&#123;reason&#125;，所以您无法从 %&#123;kind&#125;获得授权。&apos;</div><div class="line">    mailer:</div><div class="line">      confirmation_instructions:</div><div class="line">        subject: &apos;激活信息&apos;</div><div class="line">      reset_password_instructions:</div><div class="line">        subject: &apos;重置密码信息&apos;</div><div class="line">      unlock_instructions:</div><div class="line">        subject: &apos;解锁信息&apos;</div><div class="line">    views:</div><div class="line">      commons:</div><div class="line">        sidebar:</div><div class="line">          title: &apos;操作面版&apos;</div><div class="line">      links:</div><div class="line">        sign_in: &apos;登录&apos;</div><div class="line">        sign_up: &apos;注册&apos;</div><div class="line">        forget_pass: &apos;忘记密码?&apos;</div><div class="line">        resend_confirmation: &quot;没有收到确认指令？&quot;</div><div class="line">        resend_unlock: &quot;没有收到解锁指令？&quot;</div><div class="line">        omni_auth: &quot;用%&#123;provider&#125;登录&quot;</div><div class="line">      confirmations:</div><div class="line">        new:</div><div class="line">          title: &apos;重新发送确认指令&apos;</div><div class="line">          submit: &apos;重发确认邮件&apos;</div><div class="line">      passwords:</div><div class="line">        edit:</div><div class="line">          title: &apos;修改密码&apos;</div><div class="line">          submit: &apos;修改&apos;</div><div class="line">        new:</div><div class="line">          title: &apos;忘记密码&apos;</div><div class="line">          submit: &apos;发送重置邮件&apos;</div><div class="line">      registrations:</div><div class="line">        edit:</div><div class="line">          title: &apos;更改注册信息&apos;</div><div class="line">          password: &apos;修改密码&apos;</div><div class="line">          submit: &apos;修改&apos;</div><div class="line">          change_pass_tip: &quot;如果你不想改变,留下空白&quot;</div><div class="line">        new:</div><div class="line">          title: &apos;注册&apos;</div><div class="line">          submit: &apos;注册&apos;</div><div class="line">        binding:</div><div class="line">          title: &apos;绑定&apos;</div><div class="line">          submit: &apos;绑定&apos;</div><div class="line">      sessions:</div><div class="line">        new:</div><div class="line">          title: &apos;登录&apos;</div><div class="line">          submit: &apos;登录&apos;</div><div class="line">          remember_me: &apos;记住我&apos;</div><div class="line">      unlocks:</div><div class="line">        new:</div><div class="line">          title: &apos;重发解锁指令&apos;</div><div class="line">          submit: &apos;重发解锁邮件&apos;</div><div class="line">    navigation:</div><div class="line">      sign_in: &apos;登录&apos;</div><div class="line">      sign_up: &apos;注册&apos;</div><div class="line">      sign_out: &apos;退出&apos;</div><div class="line">      change_password: &apos;修改密码&apos;</div><div class="line">      change_registration: &apos;修改登记&apos;</div></pre></td></tr></table></figure></p>
<p>修改后，保存。</p>
<h3 id="启用语言包"><a href="#启用语言包" class="headerlink" title="启用语言包"></a>启用语言包</h3><p>在项目的config文件夹下，找到application.rb这个文件。打开，在其中添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Rails.application.configure do</div><div class="line">  config.i18n.default_locale = :&quot;zh-CN&quot;</div><div class="line">end</div></pre></td></tr></table></figure></p>
<p>注意，“zh-CN”与上一步中创建的文件名对应，根据你自己的设置来进行更改。</p>
<p>然后需要<code>rails s</code>重启服务器，来使配置生效。</p>
<h3 id="simple-form的关联修改"><a href="#simple-form的关联修改" class="headerlink" title="simple_form的关联修改"></a>simple_form的关联修改</h3><p>在第一步中，如果观察仔细的话，会发现config/locales文件夹下，还有一个<code>simple_form.en.yml</code>文件。</p>
<p>因此，建议同步新增simple_form的汉化语言包。</p>
<p>通过<code>touch config/locaels/simple_form.zh-CN.yml</code>来新增一个文件，复制<code>simple_form.en.yml</code>中的所有信息到新文件中，进行对应修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">zh-CN:</div><div class="line">  simple_form:</div><div class="line">    &quot;yes&quot;: &apos;Yes&apos;</div><div class="line">    &quot;no&quot;: &apos;No&apos;</div><div class="line">    required:</div><div class="line">      text: &apos;required&apos;</div><div class="line">      mark: &apos;*&apos;</div><div class="line"></div><div class="line">    error_notification:</div><div class="line">      default_message: &quot;请检查以下错误::&quot;</div></pre></td></tr></table></figure></p>
<p>注意，“zh-CN”与第一步中创建的文件名对应，根据你自己的设置来进行更改。</p>
<p>同样，在修改并保存好后，需要<code>rails s</code>重启服务器，来使配置生效。</p>
<h3 id="在登入或退出成功后，不弹出提示信息"><a href="#在登入或退出成功后，不弹出提示信息" class="headerlink" title="在登入或退出成功后，不弹出提示信息"></a>在登入或退出成功后，不弹出提示信息</h3><p>想要在登入成功或退出成功后，不弹出提示信息。只需要找到当前使用的语言包，然后将其中<code>signed_in:</code>和<code>signed_out:</code>后的语句设置为空字符串即可。</p>
<p>比如，当前使用的是英语。在config/locales文件夹下，找到<code>devise.en.yml</code>文件，进行如下修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">en:</div><div class="line">  devise:</div><div class="line">    sessions:</div><div class="line">#     signed_in: &quot;Signed in successfully.&quot; #注释掉</div><div class="line">#     signed_out: &quot;Signed out successfully.&quot; #注释掉</div><div class="line">      signed_in: &quot;&quot;</div><div class="line">      signed_out: &quot;&quot;</div></pre></td></tr></table></figure></p>
<p>保存后，重启服务器，使配置生效，即可在登入或退出后不提示信息。</p>
<p>为什么这样做会有效？<br>这是因为devise在输出flash message时会用set_flash_message方法判断message是否为空，若为空，将不生成flash。</p>
<p>在<a href="https://github.com/plataformatec/devise/blob/master/app/controllers/devise_controller.rb" target="_blank" rel="external">gems/devise-3.2.3/app/controllers/devise_controller.rb</a>中:</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">def set_flash_message(key, kind, options = &#123;&#125;)</div><div class="line">  message = find_message(kind, options)</div><div class="line">  if options[:now]</div><div class="line">    flash.now[key] = message if message.present?</div><div class="line">  else</div><div class="line">    flash[key] = message if message.present?</div><div class="line">  end</div><div class="line">end</div></pre></td></tr></table></figure>
</blockquote>
<p><a href="https://github.com/plataformatec/devise/blob/master/app/controllers/devise/sessions_controller.rb" target="_blank" rel="external">devise/sessions_controller.rb</a>会调用这个方法：</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">def create</div><div class="line">  self.resource = warden.authenticate!(auth_options)</div><div class="line">  set_flash_message!(:notice, :signed_in)</div><div class="line">  sign_in(resource_name, resource)</div><div class="line">  yield resource if block_given?</div><div class="line">  respond_with resource, location: after_sign_in_path_for(resource)</div><div class="line">end</div></pre></td></tr></table></figure>
</blockquote>
<p>因此，message为空字符时，将被自动忽略，不会生成flash。</p>
<h3 id="其他自定义提示信息的方法"><a href="#其他自定义提示信息的方法" class="headerlink" title="其他自定义提示信息的方法"></a>其他自定义提示信息的方法</h3><p>也可以<code>rails g controller xx</code> 生成自定义的devise controller，然后在其中修改对应的action。</p>
<p>通过<code>set_flash_message :xxx</code>来自定义提示信息，示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">set_flash_message :notice, :signed_up, :username =&gt; resource.username if is_flashing_format?</div></pre></td></tr></table></figure></p>
<p>当然，也可以用<code>flash[:key] = &quot;message&quot;</code>。</p>
<p>自定义devise controller后，需要在route中设置。比如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">devise_for :users,</div><div class="line">          :controllers =&gt; &#123; :registrations =&gt; &quot;devise/my_devise/registrations&quot;&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2017/01/28/2017-01-28/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/28/2017-01-28/" itemprop="url">
                  如何在ROR中将will_paginate应用为Bootstrap样式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-01-28T20:21:30+08:00">
                2017-01-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2017/01/28/2017-01-28/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/28/2017-01-28/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Step1-安装will-paginate-bootstrap这个gem"><a href="#Step1-安装will-paginate-bootstrap这个gem" class="headerlink" title="Step1: 安装will_paginate-bootstrap这个gem"></a>Step1: 安装will_paginate-bootstrap这个gem</h3><blockquote>
<p>This gem integrates the Twitter Bootstrap pagination component with the will_paginate pagination gem.</p>
</blockquote>
<p><a href="https://github.com/bootstrap-ruby/will_paginate-bootstrap" target="_blank" rel="external">这个gem</a>的最新更新是在三年前，不过在<strong>ruby 2.3.1, rails 5.0.1, mac10.12.1</strong>的环境下，依然正常运行。</p>
<p>在Gemfile中添加<code>gem &#39;will_paginate-bootstrap&#39;</code>，再bundle install，就可以在当前项目中使用了。</p>
<h3 id="Step2-需要分页的页面，在其对应的controller中设置好"><a href="#Step2-需要分页的页面，在其对应的controller中设置好" class="headerlink" title="Step2: 需要分页的页面，在其对应的controller中设置好"></a>Step2: 需要分页的页面，在其对应的controller中设置好</h3><p>假设是要对job这个对象进行分页显示，那么在对应的controller中，对于要传递到view中的变量@jobs，加上<code>.paginate(:page =&gt; params[:page], :per_page =&gt; 5)</code>类似语句。比如：<code>@jobs = current_user.jobs.paginate(:page =&gt; params[:page], :per_page =&gt; 10).order(&#39;updated_at DESC&#39;)</code>。</p>
<p>per_page后的整数,是用来限定每页显示多少的。</p>
<h3 id="Step4-在对应的view中添加上分页区块"><a href="#Step4-在对应的view中添加上分页区块" class="headerlink" title="Step4: 在对应的view中添加上分页区块"></a>Step4: 在对应的view中添加上分页区块</h3><p>在view中，一般是在最下方添加如下语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;pagination&quot;&gt;</div><div class="line">  &lt;%= will_paginate @jobs, renderer: BootstrapPagination::Rails %&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<h3 id="Step4-自定义前一页、后一页显示的符号"><a href="#Step4-自定义前一页、后一页显示的符号" class="headerlink" title="Step4: 自定义前一页、后一页显示的符号"></a>Step4: 自定义前一页、后一页显示的符号</h3><p>默认的样式中，使用箭头+Previous／Next来展示前一页／后一页：<br><img src="https://ww4.sinaimg.cn/large/006tNc79gy1fc6muh3ouhj307s014weg.jpg" alt="默认样式"></p>
<p>我们可以自定义样式。在项目的config/initializers路径下，找到will_paginate.rb，打开，添加如下语句：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">WillPaginate::ViewHelpers.pagination_options[:previous_label ]   =  &quot;&lt;&lt;&quot;</div><div class="line">WillPaginate::ViewHelpers.pagination_options[:next_label ]       =  &quot;&gt;&gt;&quot;</div></pre></td></tr></table></figure></p>
<p>就可以将前一页的图标替换为“&lt;&lt;”，前一页的图标替换为“&gt;&gt;”。<br><img src="https://ww4.sinaimg.cn/large/006tNc79gy1fc6nacf4i1j305801gmx0.jpg" alt="自定义样式"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://www.learn-to-reborn.com/2016/12/04/start-to-write/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="maviszhu">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.gif">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="彳亍而思">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="彳亍而思" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/04/start-to-write/" itemprop="url">
                  这是一个语无伦次的开始
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-04T15:15:59+08:00">
                2016-12-04
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/12/04/start-to-write/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/04/start-to-write/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="为什么有这样一个博客"><a href="#为什么有这样一个博客" class="headerlink" title="为什么有这样一个博客"></a>为什么有这样一个博客</h2><p>2016年我自己罗列的看过的书已经超过50本，参加过的线上讲座、微课、opencourse都不想再去统计了。笔记做了很多，每次上完课也是一堆感想。然并卵的是，似乎并没有对生活的改善起到多大的推进作用。</p>
<p>迷茫，仍然是周期发作的毛病。</p>
<p>我想，这不是我不够勤奋，不够聪明，但，一定是哪里出现了我从没想过的问题。</p>
<p>今年初，很多人事发生了大的转变。不知道从哪个契机开始，我认识到，我在输出上做得太少。我以为自己在思考，却从来都只是在“安装”。</p>
<p>花了两个周末，从git到hexo，终于把这个博客折腾到可以用的程度。</p>
<p>这也许不是个完美的开始，但我想，若干年后的哪天，回头去看这篇博客，应该会是个里程碑式的存在。</p>
<h2 id="从今天开始做点什么"><a href="#从今天开始做点什么" class="headerlink" title="从今天开始做点什么"></a>从今天开始做点什么</h2><p>如果足够有缘到你看到这篇博客，那么我也建议你从今天开始做点什么。</p>
<p>不必每天焦虑地用各种材料填满时间的每个碎片。停下来想一想，任何主题都可以，但一定要写下来。或者，直接去做点什么。</p>
<p>学得那么累，那么多，不去做点什么能改变生活的事情，又有什么意义呢？</p>
<p>现在就开始吧！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">maviszhu</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"maviszhu1987"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  


</body>
</html>
